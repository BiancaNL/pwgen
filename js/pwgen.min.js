(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports!=="undefined"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(b){var a=window.PwGen||{};a=(function(){var d=0;function e(f,g){b(f).append("                <p>length:</p>                <input type='number' min='6' id='length' class='input' />                <p>include:</p>                <input type='text' id='include' class='input' />                <button id='genIt'>gen it!</button>                <p>password:</p>                <input type='text' id='pw' class='input' />                <span class='copy'>copy to clipboard</span>                <p class='tools'>debug:</p>                <div class='debug'>                    <input type='checkbox' name='debug' class='debug-checkbox' id='debug'>                    <label class='debug-label' for='debug'></label>                </div>            ");b("body").append("                <div class='hint'>                    <p></p>                </div>            ");c()}function c(){b("button").click(function(){var j=b("#length").val();(j<6)?j=6:j=j;var g=b("#include").val();var s=g,q,n,m,r,l=0,p="";var k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","1","2","3","4","5","6","7","8","9","0","<",">","!","?","-","_"];while(l<j){if(g.length>=j){console.log("error");p="error :(";break}if((l+g.length)<j){q=Math.round(Math.random()*3);if(q==1){p+=g;l=l+g.length;g="";n=1}else{m=Math.round(Math.random()*66);p+=k[m];l++;n=0}if(n!=1&&(l+g.length)==j){p+=g;l=l+g.length;g=""}}else{m=Math.round(Math.random()*66);p+=k[m];l++}}r=25*(17/p.length);(r>25)?r=25:r=r;if(b(".debug-checkbox").is(":checked")){var h=new Rusha();var o=h.digest(p);console.log("pwgen: \n- length: "+j+"\n- include: "+s+"\n- pw: "+p+"\n- sha1 hash: "+o)}b("#pw").val(p).css("font-size",r)});var f=document.querySelector(".copy");f.addEventListener("click",function(h){var i=document.querySelector("#pw");i.select();try{var k=document.execCommand("copy");var j=k?"successful":"unsuccessful";if(b(".debug-checkbox").is(":checked")){console.log("Copying text command was "+j)}b(".hint p").text("Copied!");b(".hint").css({opacity:"1","z-index":"10"}).delay(2000).queue(function(l){b(this).css({opacity:"0","z-index":"-1"});l()})}catch(g){if(b(".debug-checkbox").is(":checked")){console.log("O.o unable to copy")}b(".hint p").text("Failed :(");b(".hint").css({opacity:"1","z-index":"10"}).delay(2000).queue(function(l){b(this).css({opacity:"0","z-index":"-1"});l()})}})}return e}());b.fn.pwgen=function(){var d=this,c=d.length,e;d[0].pwgen=new a(d[0],"test");return d}}));