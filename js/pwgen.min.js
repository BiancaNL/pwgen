!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var n=window.PwGen||{};n=function(){function n(n,c){e(n).append("                <p>length:</p>                <input type='number' min='6' id='length' class='input' />                <p>include:</p>                <input type='text' id='include' class='input' />                <button id='genIt'>gen it!</button>                <p>password:</p>                <input type='text' id='pw' class='input' />                <span class='copy'>copy to clipboard</span>                <p class='tools'>debug:</p>                <div class='debug'>                    <input type='checkbox' name='debug' class='debug-checkbox' id='debug'>                    <label class='debug-label' for='debug'></label>                </div>            "),e("body").append("                <div class='hint'>                    <p></p>                </div>            "),t()}function t(){e("button").click(function(){var n=e("#length").val();n=6>n?6:n;for(var t,c,o,i,u=e("#include").val(),s=u,a=0,d="",l=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","1","2","3","4","5","6","7","8","9","0","<",">","!","?","-","_"];n>a;){if(u.length>=n){console.log("error"),d="error :(";break}a+u.length<n?(t=Math.round(3*Math.random()),1==t?(d+=u,a+=u.length,u="",c=1):(o=Math.round(66*Math.random()),d+=l[o],a++,c=0),1!=c&&a+u.length==n&&(d+=u,a+=u.length,u="")):(o=Math.round(66*Math.random()),d+=l[o],a++)}if(i=25*(17/d.length),i=i>25?25:i,e(".debug-checkbox").is(":checked")){var p=new Rusha,r=p.digest(d);console.log("pwgen: \n- length: "+n+"\n- include: "+s+"\n- pw: "+d+"\n- sha1 hash: "+r)}e("#pw").val(d).css("font-size",i)});var n=document.querySelector(".copy");n.addEventListener("click",function(n){var t=document.querySelector("#pw");t.select();try{var c=document.execCommand("copy"),o=c?"successful":"unsuccessful";e(".debug-checkbox").is(":checked")&&console.log("Copying text command was "+o),e(".hint p").text("Copied!"),e(".hint").css("opacity","1").delay(2e3).queue(function(n){e(this).css({opacity:"0"}),n()})}catch(i){e(".debug-checkbox").is(":checked")&&console.log("O.o unable to copy"),e(".hint p").text("Failed :("),e(".hint").css("opacity","1").delay(2e3).queue(function(n){e(this).css({opacity:"0"}),n()})}})}return n}(),e.fn.pwgen=function(){var e=this;e.length;return e[0].pwgen=new n(e[0],"test"),e}});
